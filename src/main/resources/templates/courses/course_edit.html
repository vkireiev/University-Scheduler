<th:block th:replace="~{fragments/html_blocks :: start_block}" />
<th:block th:replace="~{fragments/head_titles :: title1}" />
<th:block th:replace="~{fragments/html_blocks :: links_block}" />
    <div th:replace="~{fragments/navbar :: navbar}">{navbar}</div>
    <div class="container p-3 justify-content-center"><th:block th:replace="~{fragments/global_notifications :: global_notifications}" />
        <th:block th:if="${upd_course_profile}"><form th:action="'/courses/edit/'+${upd_course_profile.id}" th:object="${upd_course_profile}" name="form_edit_course_profile" id="form_edit_course_profile" method="POST"><th:block th:if="${err_upd_course_profile}">
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 alert alert-danger text-center" th:each="err : ${err_upd_course_profile}">
            <span th:text="${err}"></span>
        </div></th:block><th:block th:if="${msg_upd_course_profile}">
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 alert alert-secondary text-center" style="max-width: 640px;" th:each="msg : ${msg_upd_course_profile}">
            <span th:text="${msg}"></span></div></th:block>
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 card">
            <div class="card-header"><h4>Edit Course profile</h4></div>
            <div class="card-body">
                <div class="mb-0 mt-0">
                    <label for="name" class="form-label">Course name:</label><span th:if="${#fields.hasErrors('name')}" class="text-danger small pt-1 float-end">Course name required. Length should range from 3 to 50 characters</span>
                    <input type="text" class="form-control" id="name" placeholder="Enter name" name="name" th:field="*{name}" required pattern="[A-Za-z0-9\ \@\#\$\%\^\&\*\(\)\_\+]{3,50}" oninvalid="this.setCustomValidity('Course name required. Length should range from 3 to 50 characters')" oninput="this.setCustomValidity('')">
                </div>
                <div class="mb-3 mt-3">
                    <label for="description" class="form-label">Course description:</label><span th:if="${#fields.hasErrors('description')}" class="text-danger small pt-1 float-end">Course description required. Length should range above 3 characters</span>
                    <textarea class="form-control" rows="3" id="description" placeholder="Enter description" name="description" th:field="*{description}" required pattern="[A-Za-z0-9\ \@\#\$\%\^\&\*\(\)\_\+]{3,255}" oninvalid="this.setCustomValidity('Course description required. Length should range above 3 characters')" oninput="this.setCustomValidity('')"></textarea>
                </div>                
            </div>
            <div class="card-footer clearfix">
                <button type="submit" class="float-end btn btn-md btn-primary">Submit</button>
            </div>        
        </div>
        </form><br /></th:block><th:block th:if="${upd_course_lecturers}"><th:block th:if="${err_upd_course_lecturers}">
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 alert alert-danger text-center" style="max-width: 640px;" th:each="err : ${err_upd_course_lecturers}">
            <span th:text="${err}"></span>
        </div></th:block><th:block th:if="${msg_upd_course_lecturers}">
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 alert alert-secondary text-center" style="max-width: 640px;" th:each="msg : ${msg_upd_course_lecturers}">
            <span th:text="${msg}"></span>
        </div></th:block>
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 card">
            <div class="card-header"><h4>Change Lecturers for Course</h4></div>
            <div class="card-body">
                <div class="mb-0 mt-0">
                    <style type="text/css">
                        .tableFixHead          { overflow: auto; height: 250px; }
                        .tableFixHead thead th { position: sticky; top: 0; z-index: 1; }
                        table  { border-collapse: collapse; width: 100%; }
                    </style>
                    <div class="tableFixHead">
                        <table>
                            <tbody><th:block th:if="${upd_course_lecturers.getLecturers().size()} > 0">
                                <tr th:each="lecturer : ${upd_course_lecturers.getLecturers()}"><td th:text="${lecturer.firstName} + ' ' + ${lecturer.lastName}">${lecturer}</td><td class="text-end pe-2"><a th:href="@{/courses/edit/{id_course}/lecturers/delete/{id_lecturer}(id_course=${upd_course_lecturers.id}, id_lecturer=${lecturer.id})}" onclick="return confirm('Are you sure?')" th:text="'delete'">{delete}</a></td></tr></th:block><th:block th:if="${upd_course_lecturers.getLecturers().size()} > 0 and ${addLecturersList} and ${addLecturersList.size()} > 0">
                                <tr><td colspan="2"><hr /></td></tr></th:block><th:block th:if="${addLecturersList} and ${addLecturersList.size()} > 0">
                                <tr th:each="lecturer : ${addLecturersList}"><td th:text="${lecturer.firstName} + ' ' + ${lecturer.lastName}">${lecturer}</td><td class="text-end pe-2"><a th:href="@{/courses/edit/{id_course}/lecturers/add/{id_lecturer}(id_course=${upd_course_lecturers.id}, id_lecturer=${lecturer.id})}" onclick="return confirm('Are you sure?')" th:text="'add'">{add}</a></td></tr></th:block>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div><br /></th:block><th:block th:if="${upd_course_groups}"><th:block th:if="${err_upd_course_groups}">
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 alert alert-danger text-center" style="max-width: 640px;" th:each="err : ${err_upd_course_groups}">
            <span th:text="${err}"></span>
        </div></th:block><th:block th:if="${msg_upd_course_groups}">
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 alert alert-secondary text-center" style="max-width: 640px;" th:each="msg : ${msg_upd_course_groups}">
            <span th:text="${msg}"></span>
        </div></th:block>
        <div class="mx-auto col-lg-6 col-md-6 col-sm-6 card">
            <div class="card-header"><h4>Change Groups for Course</h4></div>
            <div class="card-body">
                <div class="mb-0 mt-0">
                    <style type="text/css">
                        .tableFixHead          { overflow: auto; height: 250px; }
                        .tableFixHead thead th { position: sticky; top: 0; z-index: 1; }
                        table  { border-collapse: collapse; width: 100%; }
                    </style>
                    <div class="tableFixHead">
                        <table>
                            <tbody><th:block th:if="${upd_course_groups.getGroups().size()} > 0">
                                <tr th:each="group : ${upd_course_groups.getGroups()}"><td th:text="${group.name}">${group}</td><td class="text-end pe-2"><a th:href="@{/courses/edit/{id_course}/groups/delete/{id_group}(id_course=${upd_course_groups.id}, id_group=${group.id})}" onclick="return confirm('Are you sure?')" th:text="'delete'">{delete}</a></td></tr></th:block><th:block th:if="${upd_course_groups.getGroups().size()} > 0 and ${addGroupsList} and ${addGroupsList.size()} > 0">
                                <tr><td colspan="2"><hr /></td></tr></th:block><th:block th:if="${addLecturersList} and ${addLecturersList.size()} > 0">
                                <tr th:each="group : ${addGroupsList}"><td th:text="${group.name}">${group}</td><td class="text-end pe-2"><a th:href="@{/courses/edit/{id_course}/groups/add/{id_group}(id_course=${upd_course_lecturers.id}, id_group=${group.id})}" onclick="return confirm('Are you sure?')" th:text="'add'">{add}</a></td></tr></th:block>
                                </th:block>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div><br /></th:block>
    </div>
    <br />
<th:block th:replace="~{fragments/html_blocks :: end_block}" />